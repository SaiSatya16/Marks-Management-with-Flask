from flask import Flaskfrom flask import render_templatefrom flask import requestimport matplotlib.pyplot as pltapp = Flask(__name__)@app.route("/", methods = ["GET","POST"])def hello_world():    if request.method == "GET":        return render_template("get_details.html")    elif request.method == "POST":        cid = request.form["ID"]        idv = request.form["id_value"]        f = open('data.csv', 'r')        marks_table = f.readlines()[1:]        if cid=="course_id":            course_id = idv            highest = 0            sum = 0            count = 0            avg =0            for row in marks_table:                value = row.split(',')                if value[1] == course_id:                    count += 1                    sum += int(value[2])                    if int(value[2]) > highest:                        highest = int(value[2])                a=generate_image(int(value[2]))            if count > 0:                avg = sum / count                  return render_template("course_details.html",avg=avg, highest=highest,img = a )            else:                return render_template("wrong_input.html")        elif cid=="student_id":            student_id = idv            final_table = []            total = 0            for row in marks_table:                value = row.split(',')                if value[0] == student_id:                    total += int(value[2])                    final_table.append(value)                    if (total>0):                return render_template("student_details.html",final_table=final_table, total=total)            else:                return render_template("wrong_input.html")        else:            return render_template("wrong_input.html")                else:        print("Error check")def generate_image(marks):    plt.clf()    plt.hist(marks,bins=8)    #plt.xticks(marks,[i for i in range(20,101,10)])    plt.xlabel("Marks")    plt.ylabel("Frequency")    plt.savefig('static/fig_out.jpg')        if __name__ == "__main__":    app.debug = True    app.run()